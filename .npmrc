# pnpm configuration for optimal performance

# Use hard links when possible to save disk space
# This can significantly reduce node_modules size
prefer-workspace-packages=true

# Store all packages in a global store and hard link them
# This saves disk space and speeds up installations
store-dir=~/.pnpm-store

# More lenient peer dependency handling for monorepo compatibility
# This prevents Dependabot/Renovate resolution errors
strict-peer-dependencies=false

# Don't hoist packages to the root node_modules
# This ensures better isolation and fewer conflicts
hoist=false

# Use the highest version of a package when there are duplicates
# This reduces bundle size
resolution-mode=highest

# Automatically install peer dependencies
# This prevents "unmet peer dependency" warnings
auto-install-peers=true

# Deduplicate packages after installation
# This reduces node_modules size
dedupe-peer-dependents=true

# Use symlinks for workspace packages
# This ensures changes are immediately reflected
link-workspace-packages=true

# Save exact versions in package.json
# This ensures reproducible builds
save-exact=false

# Enable strict SSL (security best practice)
strict-ssl=true

# Set concurrent network requests
# Adjust based on your network speed
network-concurrency=16

# Disable scripts for security when installing
# Enable only for trusted packages
ignore-scripts=false

# Enable package provenance when publishing
publish-branch=main