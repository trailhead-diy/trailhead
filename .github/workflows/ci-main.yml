name: CI - Main Branch

on:
  push:
    branches: [main]
  workflow_dispatch:

permissions:
  contents: read

jobs:
  ci:
    name: Main CI
    uses: ./.github/workflows/reusable-ci.yml
    with:
      # Main branch tests on all platforms
      os-matrix: '["ubuntu-latest", "windows-latest", "macos-latest"]'
    secrets: inherit