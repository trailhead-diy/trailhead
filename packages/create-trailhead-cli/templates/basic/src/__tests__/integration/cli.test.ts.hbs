import { describe, it, expect } from 'vitest' import { runCLI } from
'@esteban-url/trailhead-cli/testing' describe('CLI Integration', () => { it('should display help
information', async () => { const result = await runCLI(['--help']) expect(result.isOk()).toBe(true)
expect(result.value.stdout).toContain('{{description}}')
expect(result.value.stdout).toContain('build') expect(result.value.stdout).toContain('dev') })
it('should handle unknown commands gracefully', async () => { const result = await
runCLI(['unknown-command']) expect(result.isOk()).toBe(false)
expect(result.error.message).toContain('unknown') }) it('should execute build command', async () =>
{ const result = await runCLI(['build', '--output', 'test-dist']) expect(result.isOk()).toBe(true)
expect(result.value.exitCode).toBe(0) }) it('should execute dev command', async () => { const result
= await runCLI(['dev', '--port', '8080']) expect(result.isOk()).toBe(true)
expect(result.value.exitCode).toBe(0) }) it('should handle build with verbose output', async () => {
const result = await runCLI(['build', '--verbose']) expect(result.isOk()).toBe(true)
expect(result.value.exitCode).toBe(0) }) it('should handle command aliases', async () => { const
result = await runCLI(['serve', '--port', '3001']) expect(result.isOk()).toBe(true)
expect(result.value.exitCode).toBe(0) }) it('should validate command options', async () => { const
result = await runCLI(['dev', '--port', 'invalid']) expect(result.isOk()).toBe(false) // Should
handle invalid option values gracefully }) })