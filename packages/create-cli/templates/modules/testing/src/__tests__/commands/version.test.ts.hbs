import { describe, it, expect, vi } from 'vitest' import { versionCommand } from
'../../commands/version.js' describe('version command', () => { it('should be properly configured',
() => { expect(versionCommand.name).toBe('version') expect(versionCommand.description).toBe('Show
version information') expect(versionCommand.flags).toEqual({}) }) it('should output version when
executed', async () => { const consoleSpy = vi.spyOn(console, 'log').mockImplementation(() => {})
const result = await versionCommand.handler({ args: [], flags: {}, context: {} })
expect(result.isOk()).toBe(true) expect(consoleSpy).toHaveBeenCalledWith('{{version}}')
consoleSpy.mockRestore() }) it('should return ok result', async () => { const consoleSpy =
vi.spyOn(console, 'log').mockImplementation(() => {}) const result = await versionCommand.handler({
args: [], flags: {}, context: {} }) expect(result.isOk()).toBe(true)
expect(result.value).toBeUndefined() consoleSpy.mockRestore() }) })